<!-- ATTENTION ATTENTION ATTENTION: DO NOT MODIFY THIS FILE OR THE WEBAPP WILL BE BROKEN -->

<!DOCTYPE html>
<html>
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<head>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet'>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        div {
            height: 100%;
            width: 100%;
        }
        .not-selectable {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

    </style>
    <title>Cigarette Live Counter | i-Robot</title>
</head>
<body>
    <div id="div" onkeypress="ctrl+shift+p">
        <svg id="svg1" y="0%" width="100%" height="33.333333333%">
            <rect width="100%" height="100%" style="fill:rgb(255, 0, 0)"/>
            <text class="not-selectable" x="50%" y=50% text-anchor="middle" font-size=5vw font-family="Ubuntu" style="fill:rgb(255, 255, 255)">
                <tspan id="cigarettes_smoked_today_txt" style="alignment-baseline:middle" x="50%" y="30%">NO DATA</tspan>
                <tspan style="alignment-baseline:middle" x="50%" y="70%">Cigarettes Smoked Today</tspan>
            </text>
        </svg>
        <svg id="svg2" y="0%" width="100%" height="33.333333333%">
            <rect width="100%" height="100%" style="fill:hsl(34, 100%, 53%)"/>
            <text class="not-selectable" x="50%" y=50% text-anchor="middle" font-size=5vw font-family="Ubuntu" style="fill:rgb(255, 255, 255)">
                <tspan style="alignment-baseline:middle" x="50%" y="30%" id="liters_water_polluted_txt">NO DATA</tspan>
                <tspan style="alignment-baseline:middle" x="50%" y="70%">Liters of Water they Would Pollute</tspan>
            </text>
        </svg>
        <svg id="svg3" y="0%" width="100%" height="33.333333333%">
            <rect width="100%" height="100%" style="fill:rgb(0, 126, 0)"/>
            <text class="not-selectable" x="50%" y=50% text-anchor="middle" font-size=4.5vw font-family="Ubuntu" style="fill:rgb(255, 255, 255)">
                <tspan style="alignment-baseline:middle" x="50%" y="20%" id="kwh_of_energy_txt">NO DATA</tspan>
                <tspan style="alignment-baseline:middle" x="50%" y="50%">kWh of Energy Contained in Biogas</tspan>
                <tspan style="alignment-baseline:middle" x="50%" y="80%">that comes from Cigarette Butts</tspan>
            </text>
        </svg>
    </div>
    </div>
</body>
<script>
    alert("ATTENTION: THIS APP WORKS BEST ON CHROME");
    alert("ATTENTION: COLORS MIGHT NOT BE INTERPRETED CORRECTLY. IF COLORS LOOK DESATURATED OR RED LOOKS LIKE PURPLE TRY ANOTHER BROWSER AND INFORM MARKOS NARINIAN.");
    alert("ATTENTION: DO NOT MODIFY THIS HTML FILE OR THE WEBAPP WILL BREAK OR MALFUNCTION")

    const locale = "el-GR"
    const cigarettes_per_second = 175513.921221826;
    const cigarettes_per_ms = cigarettes_per_second / 1000
    time_offset_seconds = 0;

    document.getElementById("cigarettes_smoked_today_txt").textContent = "NO DATA";
    document.getElementById("liters_water_polluted_txt").textContent = "NO DATA";
    document.getElementById("kwh_of_energy_txt").textContent = "NO DATA";

    function updateCounters() {
        date = new Date();
        ms_since_midnight = (date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds() + time_offset_seconds) * 1000 + date.getMilliseconds();
        cigarettes_smoked_today = cigarettes_per_ms * ms_since_midnight;

        document.getElementById("cigarettes_smoked_today_txt").textContent = parseInt(cigarettes_smoked_today).toLocaleString(locale);
        document.getElementById("liters_water_polluted_txt").textContent = parseInt(cigarettes_smoked_today * 500.).toLocaleString(locale);
        document.getElementById("kwh_of_energy_txt").textContent = parseInt(cigarettes_smoked_today * 0.00032).toLocaleString(locale);
    }

    setInterval(updateCounters, 100)
</script>
</html>